package xyz.nulldev.kdom.api

import azadev.kotlin.css.Stylesheet

class ElementStyle(content: String) {
    private val generated by lazy {
        content.replace("\"", "&#34;") // Escape double quote
                .replace("'", "&#39;") // Escape single quote
                .replace("\n", "&#10;") // Escape line feed
                .replace("\r", "&#13;") // Escape carriage return
    }

    constructor(gen: Stylesheet.() -> Unit):
            this(
                    Stylesheet {
                        gen(this)
                    }.render()
            )

    override fun toString() = generated
}